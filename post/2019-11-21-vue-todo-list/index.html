<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Vue 入门第一课：任务列表 - 心智极客</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="心智极客" />
  <meta name="description" content="准备工作 新建一个 HTMl 页面，在头部直接引入 CDN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 &amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;en&amp;#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;title&amp;gt;Vue&amp;lt;/title&amp;gt; &amp;lt;script src=&amp;#34;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;div id=&amp;#34;app&amp;#34;&amp;gt; &amp;lt;!-- HTML 的内容写在这 --&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;script&amp;gt; &amp;lt;!-- JavaScript 的内容写" />

  <meta name="keywords" content="laravel, 个人管理, php, web" />






<meta name="generator" content="Hugo 0.58.3" />


<link rel="canonical" href="http://www.huangmingxian.com/post/2019-11-21-vue-todo-list/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Vue 入门第一课：任务列表" />
<meta property="og:description" content="准备工作 新建一个 HTMl 页面，在头部直接引入 CDN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 &lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Vue&lt;/title&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&#34;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#34;app&#34;&gt; &lt;!-- HTML 的内容写在这 --&gt; &lt;/div&gt; &lt;script&gt; &lt;!-- JavaScript 的内容写" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.huangmingxian.com/post/2019-11-21-vue-todo-list/" />
<meta property="article:published_time" content="2019-11-21T00:00:14+08:00" />
<meta property="article:modified_time" content="2019-11-21T00:00:14+08:00" />
<meta itemprop="name" content="Vue 入门第一课：任务列表">
<meta itemprop="description" content="准备工作 新建一个 HTMl 页面，在头部直接引入 CDN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 &lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Vue&lt;/title&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&#34;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#34;app&#34;&gt; &lt;!-- HTML 的内容写在这 --&gt; &lt;/div&gt; &lt;script&gt; &lt;!-- JavaScript 的内容写">


<meta itemprop="datePublished" content="2019-11-21T00:00:14&#43;08:00" />
<meta itemprop="dateModified" content="2019-11-21T00:00:14&#43;08:00" />
<meta itemprop="wordCount" content="3148">



<meta itemprop="keywords" content="vue," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vue 入门第一课：任务列表"/>
<meta name="twitter:description" content="准备工作 新建一个 HTMl 页面，在头部直接引入 CDN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 &lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Vue&lt;/title&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&#34;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#34;app&#34;&gt; &lt;!-- HTML 的内容写在这 --&gt; &lt;/div&gt; &lt;script&gt; &lt;!-- JavaScript 的内容写"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">心智极客的网志</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/">首页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/about/">About</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      心智极客的网志
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/">首页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="http://www.huangmingxian.com/about/">About</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Vue 入门第一课：任务列表</h1>
      
      <div class="post-meta">
        <time datetime="2019-11-21" class="post-time">
          2019-11-21
        </time>
        <div class="post-category">
            <a href="http://www.huangmingxian.com/categories/%E6%8A%80%E6%9C%AF/"> 技术 </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#准备工作">准备工作</a></li>
<li><a href="#标题">标题</a></li>
<li><a href="#输入框">输入框</a></li>
<li><a href="#新增任务">新增任务</a></li>
<li><a href="#显示任务">显示任务</a></li>
<li><a href="#标记任务">标记任务</a></li>
<li><a href="#显示未完成的任务">显示未完成的任务</a></li>
<li><a href="#组件化-1">组件化 1</a></li>
<li><a href="#组件化-2">组件化 2</a></li>
<li><a href="#完整代码">完整代码</a></li>
<li><a href="#在-vue-cli-中使用">在 Vue Cli 中使用</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h2 id="准备工作">准备工作</h2>

<p>新建一个 HTMl 页面，在头部直接引入 CDN</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Vue<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>


<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
	<span class="c">&lt;!-- HTML 的内容写在这 --&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
	<span class="c">&lt;!--</span> <span class="nx">JavaScript</span> <span class="nx">的内容写在这</span> <span class="o">--&gt;</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>接下来的所有教程都会在该页面上实现，只需要将 HTML 和 JavaScript 的内容写在对应的地方即可。</p>

<h2 id="标题">标题</h2>

<blockquote>
<p>给任务列表创建一个标题。</p>
</blockquote>

<p>HTML - <code>{{ }}</code> 语法叫做插值模板语法，可用于渲染数据，对应元素的 <code>textContent</code> 属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 1. 应用始终通过 Vue 函数创建实例
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
	<span class="c1">// 2. Vue 的实例必须挂载到某个元素上，可以通过 el 属性来设置
</span><span class="c1"></span>	<span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
	<span class="c1">// 3. data 用于所有的属性，这些数据的更新将反映到视图上面
</span><span class="c1"></span>	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;任务列表&#39;</span>
	<span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div>
<p>Vue 是声明式的，声明自己要什么即可，不需要考虑如何实现</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>与此相比，命令式则需要考虑的是如何去实现</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;任务列表&#39;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div>
<h2 id="输入框">输入框</h2>

<blockquote>
<p>创建一个输入框，用于添加任务。</p>
</blockquote>

<p>HTML - <code>{{ }}</code> 语法对应的是元素的 <code>textContent</code> 属性，如果是表单的话则需要使用 <code>v-model</code> 指令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">&#34;task&#34;</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript - 新增属性 <code>task</code>，初始值为空</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
	<span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;任务列表&#39;</span><span class="p">,</span>
		<span class="nx">task</span><span class="o">:</span> <span class="kc">null</span>
	<span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div>
<h2 id="新增任务">新增任务</h2>

<blockquote>
<p>用户输入任务，点击新增后，添加任务到任务列表中。</p>
</blockquote>

<p>HTML - Vue 中使用 <code>v-on</code> 来进行事件监听</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">&#34;task&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">v-on:click</span><span class="o">=</span><span class="s">&#34;add&#34;</span><span class="p">&gt;</span>新增<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 1、用于生成唯一标识
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">guid</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">S4</span><span class="p">()</span> <span class="p">{</span>
       <span class="k">return</span> <span class="p">(((</span><span class="mi">1</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">())</span><span class="o">*</span><span class="mh">0x10000</span><span class="p">)</span><span class="o">|</span><span class="mi">0</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
	<span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;任务列表&#39;</span><span class="p">,</span>
		<span class="nx">task</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
		<span class="c1">// 2、新增 tasks，管理任务
</span><span class="c1"></span>		<span class="nx">tasks</span><span class="o">:</span> <span class="p">[]</span>
	<span class="p">},</span>
	<span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">add</span><span class="p">()</span> <span class="p">{</span>
			<span class="c1">// 3、给新的任务添加唯一标识，并设置为未完成
</span><span class="c1"></span>			<span class="kd">var</span> <span class="nx">task</span> <span class="o">=</span> <span class="p">{</span>
				<span class="nx">id</span><span class="o">:</span> <span class="nx">guid</span><span class="p">(),</span> 
				<span class="nx">name</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">task</span><span class="p">,</span>
				<span class="nx">completed</span><span class="o">:</span> <span class="kc">false</span> 
			<span class="p">}</span>
			<span class="c1">// 4、、将任务添加到列表中
</span><span class="c1"></span>			<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">task</span><span class="p">);</span>  
			<span class="c1">// 5、清空任务框
</span><span class="c1"></span>			<span class="k">this</span><span class="p">.</span><span class="nx">task</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> 
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div>
<h2 id="显示任务">显示任务</h2>

<blockquote>
<p>显示任务列表，并且在任务列表为空的时候，隐藏标题。</p>
</blockquote>

<p>HTML - 任务列表是一组列表数据，无法直接使用 <code>{{ }}</code> 等语法来显示，需要用 <code>v-for</code> 指令来渲染一组列表数据。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">v-model</span><span class="o">=</span><span class="s">&#34;task&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">v-on:click</span><span class="o">=</span><span class="s">&#34;add&#34;</span><span class="p">&gt;</span>新增<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>全部任务<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;task in tasks&#34;</span><span class="p">&gt;</span>
		{{ task.name }}
	<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>当任务列表为空的时候，隐藏标题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;tasks.length &gt; 0&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>全部任务<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
		<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;task in tasks&#34;</span><span class="p">&gt;</span>
			{{ task.name }}
		<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
	<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="标记任务">标记任务</h2>

<blockquote>
<p>将任务标记为已完成。</p>
</blockquote>

<p>HTML - 新增一个按钮，用于标记任务，当 <code>task.completed</code> 的值为 <code>null</code>、<code>undefined</code> 或 <code>false</code> 时，则不会显示属性 <code>disabled</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>全部任务<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;task in tasks&#34;</span><span class="p">&gt;</span>
		{{ task.name }} <span class="p">&lt;</span><span class="nt">button</span> <span class="na">v-bind:disabled</span><span class="o">=</span><span class="s">&#34;task.completed&#34;</span> <span class="na">v-on:click</span><span class="o">=</span><span class="s">&#34;done(task.id)&#34;</span><span class="p">&gt;</span>完成<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
	<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript - 根据 <code>id</code> 匹配对应的任务，并标记为已完成</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
	<span class="nx">done</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">){</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">task</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span><span class="p">){</span>
				<span class="nx">task</span><span class="p">.</span><span class="nx">completed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">return</span> <span class="nx">task</span><span class="p">;</span>
		<span class="p">})</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<h2 id="显示未完成的任务">显示未完成的任务</h2>

<p>用之前的方法来显示未完成任务。</p>

<p>HTML</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>未完成的任务<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;task in uncompletedTasks()&#34;</span><span class="p">&gt;</span>{{ task.name }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
	<span class="nx">uncompletedTasks</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">){</span>
			<span class="k">return</span> <span class="o">!</span><span class="nx">task</span><span class="p">.</span><span class="nx">completed</span><span class="p">;</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div>
<p>这样做有两个比较不好的地方：</p>

<ul>
<li>每次都需要重新计算未完成的任务，即使任务没有发生变化；</li>
<li>在模板语法中使用函数显得不够直观</li>
</ul>

<p>使用计算属性进行重构</p>

<p>HTML</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>未完成的任务<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;task in uncompletedTasks&#34;</span><span class="p">&gt;</span>{{ task.name }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
	<span class="nx">uncompletedTasks</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">){</span>
			<span class="k">return</span> <span class="o">!</span><span class="nx">task</span><span class="p">.</span><span class="nx">completed</span><span class="p">;</span>
		<span class="p">});</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
<p>这样写显得更加的直观，同时，计算属性只有在其关联数据发生变化时才会重新计算，否则会返回先前的结果。</p>

<h2 id="组件化-1">组件化 1</h2>

<p>任务列表的功能在很多地方都有可能用得到，有没有办法将其复用？有的，那就是将其封装成组件。</p>

<p>组件可以看做是封装过的 Vue 实例，也就是说，组件与实例的大都数功能都相同。将刚才的实例直接进行封装</p>

<p>HTML</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">task-list</span><span class="p">&gt;&lt;/</span><span class="nt">task-list</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>JavaScript</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">	<span class="kd">function</span> <span class="nx">guid</span><span class="p">()</span> <span class="p">{</span>
	    <span class="kd">function</span> <span class="nx">S4</span><span class="p">()</span> <span class="p">{</span>
	       <span class="k">return</span> <span class="p">(((</span><span class="mi">1</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">())</span><span class="o">*</span><span class="mh">0x10000</span><span class="p">)</span><span class="o">|</span><span class="mi">0</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	    <span class="p">}</span>
	    <span class="k">return</span> <span class="p">(</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">());</span>
	<span class="p">}</span>

	<span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task-list&#39;</span><span class="p">,</span> <span class="p">{</span>
		<span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">			&lt;div&gt;
</span><span class="sb">				&lt;div&gt;
</span><span class="sb">					&lt;input v-model=&#34;task&#34;&gt;
</span><span class="sb">					&lt;button v-on:click=&#34;add&#34;&gt;新增&lt;/button&gt;
</span><span class="sb">				&lt;/div&gt;,
</span><span class="sb">				&lt;h2&gt;全部任务&lt;/h2&gt;
</span><span class="sb">				&lt;ul&gt;
</span><span class="sb">					&lt;li v-for=&#34;task in tasks&#34;&gt;
</span><span class="sb">						{{ task.name }} &lt;button v-bind:disabled=&#34;task.completed&#34; v-on:click=&#34;done(task.id)&#34;&gt;完成&lt;/button&gt;
</span><span class="sb">					&lt;/li&gt;
</span><span class="sb">				&lt;/ul&gt;
</span><span class="sb">			&lt;/div&gt;
</span><span class="sb">		`</span><span class="p">,</span>
		<span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">{</span>
				<span class="nx">tasks</span> <span class="o">:</span> <span class="p">[],</span>
				<span class="nx">task</span><span class="o">:</span> <span class="kc">null</span>
			<span class="p">}</span>
		<span class="p">},</span>
		<span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">add</span><span class="p">()</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">task</span> <span class="o">=</span> <span class="p">{</span>
					<span class="nx">id</span><span class="o">:</span> <span class="nx">guid</span><span class="p">(),</span>
					<span class="nx">name</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">task</span><span class="p">,</span>
					<span class="nx">completed</span><span class="o">:</span> <span class="kc">false</span>
				<span class="p">}</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">task</span><span class="p">);</span> 
				<span class="k">this</span><span class="p">.</span><span class="nx">task</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> 
			<span class="p">},</span>
			<span class="nx">done</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">){</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">task</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span><span class="p">){</span>
						<span class="nx">task</span><span class="p">.</span><span class="nx">completed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="p">}</span>

					<span class="k">return</span> <span class="nx">task</span><span class="p">;</span>
				<span class="p">})</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">})</span>


	<span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
		<span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
	<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div>
<p>该组件与之前的 Vue 实例几乎一样，最大的区别在于使用 <code>data()</code> 方法来管理数据。因为组件涉及到复用问题，假如任务列表组件在多个地方使用到，那么每个地方都需要维护自己的数据，如果使用 <code>data</code> 属性而不是方法，那么这些组件就会共享一份数据，造成相互污染。</p>

<h2 id="组件化-2">组件化 2</h2>

<p>之前对任务列表直接进行了封装，实际上，任务列表组件还可以进一步拆分成 <strong>列表组件</strong> 和 <strong>详细任务组件</strong> 两个。</p>

<p>子组件 Task</p>

<ul>
<li>显示具体任务</li>

<li><p>标记任务完成</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">		&lt;div&gt;
</span><span class="sb">			&lt;li&gt;{{ name }}&lt;/li&gt;&lt;button&gt;完成&lt;/button&gt;
</span><span class="sb">		&lt;/div&gt;
</span><span class="sb">	`</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<p>父组件 TaskList</p>

<ul>
<li>维护任务列表</li>

<li><p>使用子组件 <code>task</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task-list&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">template</span><span class="o">:</span><span class="sb">`
</span><span class="sb">		&lt;div&gt;
</span><span class="sb">			&lt;ul&gt;
</span><span class="sb">				&lt;task&gt;&lt;/task&gt;
</span><span class="sb">			&lt;/ul&gt;
</span><span class="sb">		&lt;/div&gt;
</span><span class="sb">	`</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

<p>这里的关键在于这两个组件应当如何通讯。</p>

<ul>
<li>父组件与子组件通讯 - 父组件 <code>task-list</code> 需要将 <code>tasks</code> 数据传递给子组件。</li>
<li>子组件与父组件通讯 - 子组件标记完成后，父组件需要更新对应的任务列表</li>
</ul>

<p>父传子 - 子组件通过 <code>props</code> 选项定义可接受的属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">],</span>
	<span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">		&lt;div&gt;
</span><span class="sb">			&lt;li&gt;{{ name }}&lt;/li&gt;&lt;button v-bind:disabled=&#34;completed&#34;&gt;完成&lt;/button&gt;
</span><span class="sb">		&lt;/div&gt;
</span><span class="sb">	`</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div>
<p>子传父 - 子组件通过事件向父组件发出消息</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">],</span>
	<span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">		&lt;div&gt;
</span><span class="sb">			&lt;li&gt;{{ name }}&lt;/li&gt;&lt;button v-bind:disabled=&#34;completed&#34; v-on:click=&#34;$emit(&#39;done&#39;, id)&#34;&gt;完成&lt;/button&gt;
</span><span class="sb">		&lt;/div&gt;
</span><span class="sb">	`</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div>
<p>父组件对子组件的事件进行监听</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">task</span> <span class="nx">v</span><span class="o">-</span><span class="nx">on</span><span class="o">:</span><span class="nx">done</span><span class="o">=</span><span class="s2">&#34;done&#34;</span> <span class="nx">v</span><span class="o">-</span><span class="k">for</span><span class="o">=</span><span class="s2">&#34;task in tasks&#34;</span> <span class="nx">v</span><span class="o">-</span><span class="nx">bind</span><span class="o">:</span><span class="nx">name</span><span class="o">=</span><span class="s2">&#34;task.name&#34;</span> <span class="nx">v</span><span class="o">-</span><span class="nx">bind</span><span class="o">:</span><span class="nx">id</span><span class="o">=</span><span class="s2">&#34;task.id&#34;</span> <span class="nx">v</span><span class="o">-</span><span class="nx">bind</span><span class="o">:</span><span class="nx">completed</span><span class="o">=</span><span class="s2">&#34;task.completed&#34;</span><span class="o">&gt;&lt;</span><span class="err">/task&gt;</span>
</code></pre></td></tr></table>
</div>
</div>
<h2 id="完整代码">完整代码</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>任务列表<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="c">&lt;!-- HTML 部分都会写在这里 --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">task-list</span><span class="p">&gt;&lt;/</span><span class="nt">task-list</span><span class="p">&gt;</span>	
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
	
<span class="c">&lt;!-- JavaScript 部分都会写在这里 --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>

	<span class="kd">function</span> <span class="nx">guid</span><span class="p">()</span> <span class="p">{</span>
	    <span class="kd">function</span> <span class="nx">S4</span><span class="p">()</span> <span class="p">{</span>
	       <span class="k">return</span> <span class="p">(((</span><span class="mi">1</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">())</span><span class="o">*</span><span class="mh">0x10000</span><span class="p">)</span><span class="o">|</span><span class="mi">0</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	    <span class="p">}</span>
	    <span class="k">return</span> <span class="p">(</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">());</span>
	<span class="p">}</span>

	<span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="p">{</span>
		<span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">],</span>
		<span class="nx">template</span><span class="o">:</span> <span class="sb">`
</span><span class="sb">			&lt;div&gt;
</span><span class="sb">				&lt;li&gt;{{ name }}&lt;/li&gt;&lt;button v-bind:disabled=&#34;completed&#34; v-on:click=&#34;$emit(&#39;done&#39;, id)&#34;&gt;完成&lt;/button&gt;
</span><span class="sb">			&lt;/div&gt;
</span><span class="sb">		`</span>
	<span class="p">})</span>

	<span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;task-list&#39;</span><span class="p">,</span> <span class="p">{</span>
		<span class="nx">template</span><span class="o">:</span><span class="sb">`
</span><span class="sb">			&lt;div&gt;
</span><span class="sb">				&lt;input v-model=&#34;task&#34;&gt;
</span><span class="sb">				&lt;button v-on:click=&#34;add&#34;&gt;新增&lt;/button&gt;
</span><span class="sb">				&lt;h2&gt;全部任务&lt;/h2&gt;
</span><span class="sb">				&lt;ul&gt;
</span><span class="sb">					&lt;task v-on:done=&#34;done&#34; v-for=&#34;task in tasks&#34; v-bind:name=&#34;task.name&#34; v-bind:id=&#34;task.id&#34; v-bind:completed=&#34;task.completed&#34;&gt;&lt;/task&gt;
</span><span class="sb">				&lt;/ul&gt;
</span><span class="sb">			&lt;/div&gt;
</span><span class="sb">		`</span><span class="p">,</span>
		<span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">return</span> <span class="p">{</span>
				<span class="nx">tasks</span> <span class="o">:</span> <span class="p">[],</span>
				<span class="nx">task</span><span class="o">:</span> <span class="kc">null</span>
			<span class="p">}</span>
		<span class="p">},</span>
		<span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">add</span><span class="p">()</span> <span class="p">{</span>
				<span class="kd">var</span> <span class="nx">task</span> <span class="o">=</span> <span class="p">{</span>
					<span class="nx">id</span><span class="o">:</span> <span class="nx">guid</span><span class="p">(),</span>
					<span class="nx">name</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">task</span><span class="p">,</span>
					<span class="nx">completed</span><span class="o">:</span> <span class="kc">false</span>
				<span class="p">}</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">task</span><span class="p">);</span>   <span class="c1">// 将任务添加到列表中，默认为 false
</span><span class="c1"></span>				<span class="k">this</span><span class="p">.</span><span class="nx">task</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>  <span class="c1">// 清空任务框
</span><span class="c1"></span>			<span class="p">},</span>
			<span class="nx">done</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">){</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">task</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span><span class="p">){</span>
						<span class="nx">task</span><span class="p">.</span><span class="nx">completed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
					<span class="p">}</span>

					<span class="k">return</span> <span class="nx">task</span><span class="p">;</span>
				<span class="p">})</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">})</span>

	<span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
		<span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
	<span class="p">})</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="在-vue-cli-中使用">在 Vue Cli 中使用</h2>

<p>安装</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install -g @vue/cli
$ vue create my-vue-app
$ <span class="nb">cd</span> my-vue-app</code></pre></td></tr></table>
</div>
</div>
<p>创建 Task 组件 - <code>/src/components/Task.vue</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;{{</span> <span class="nx">name</span> <span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">v</span><span class="nt">-bind:disabled</span><span class="s">=&#34;completed&#34;</span> <span class="na">v</span><span class="nt">-on</span><span class="o">:</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;$emit(&#39;done&#39;, id)&#34;</span><span class="p">&gt;</span><span class="nx">完成</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">props</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">]</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>创建 TaskList 组件 - <code>/src/components/TaskList.vue</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
	<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
		<span class="p">&lt;</span><span class="nt">input</span> <span class="nt">v-model</span><span class="s">=&#34;task&#34;&gt;
</span><span class="s">		&lt;button v-on</span><span class="nt">:click</span><span class="s">=&#34;add&#34;</span><span class="p">&gt;</span><span class="na">新增</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
		<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">全部任务</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
		<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
			<span class="p">&lt;</span><span class="nt">task</span> <span class="na">v</span><span class="nt">-on:done</span><span class="s">=&#34;done&#34;</span> <span class="nt">v-for</span><span class="s">=&#34;task in tasks&#34; :name=&#34;task.name&#34; :id=&#34;task.id&#34; :key=&#34;task.id&#34; :completed=&#34;task.completed&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">task</span><span class="p">&gt;</span>
		<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
	<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">import</span> <span class="nx">Task</span> <span class="nx">from</span> <span class="s1">&#39;./Task.vue&#39;</span>

<span class="kd">function</span> <span class="nx">guid</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">S4</span><span class="p">()</span> <span class="p">{</span>
       <span class="k">return</span> <span class="p">(((</span><span class="mi">1</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">())</span><span class="o">*</span><span class="mh">0x10000</span><span class="p">)</span><span class="o">|</span><span class="mi">0</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="s2">&#34;-&#34;</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">()</span><span class="o">+</span><span class="nx">S4</span><span class="p">());</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
	<span class="nx">data</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">{</span>
			<span class="nx">tasks</span> <span class="o">:</span> <span class="p">[],</span>
			<span class="nx">task</span><span class="o">:</span> <span class="kc">null</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">Task</span>
	<span class="p">},</span>
	<span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
		<span class="nx">add</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">task</span> <span class="o">=</span> <span class="p">{</span>
				<span class="nx">id</span><span class="o">:</span> <span class="nx">guid</span><span class="p">(),</span>
				<span class="nx">name</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">task</span><span class="p">,</span>
				<span class="nx">completed</span><span class="o">:</span> <span class="kc">false</span>
			<span class="p">}</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">task</span><span class="p">);</span>   <span class="c1">// 将任务添加到列表中，默认为 false
</span><span class="c1"></span>			<span class="k">this</span><span class="p">.</span><span class="nx">task</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>  <span class="c1">// 清空任务框
</span><span class="c1"></span>		<span class="p">},</span>
		<span class="nx">done</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">){</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">task</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">id</span><span class="p">){</span>
					<span class="nx">task</span><span class="p">.</span><span class="nx">completed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="k">return</span> <span class="nx">task</span><span class="p">;</span>
			<span class="p">})</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>在 App 中使用 - <code>/src/App.vue</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-vue" data-lang="vue"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> <span class="nx">任务列表</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">task-list</span><span class="p">&gt;</span><span class="o">&lt;</span><span class="err">/task-list&gt; </span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kr">import</span> <span class="nx">TaskList</span> <span class="nx">from</span> <span class="s1">&#39;./components/TaskList.vue&#39;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;app&#39;</span><span class="p">,</span>
  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">TaskList</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>最后，查看效果</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm run serve</code></pre></td></tr></table>
</div>
</div>
    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">心智极客</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2019-11-21
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="http://www.huangmingxian.com/tags/vue/">vue</a>
          
        </div>

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/2019-11-20-css-basic-usage/">
            <span class="next-text nav-default">CSS 基本原理</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "ihuangmx/ihuangmx.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  


<a href="http://www.huangmingxian.com/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        心智极客
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
